(()=>{var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};(()=>{"use strict";const r=flarum.core.compat["forum/app"];var t=e.n(r);flarum.core.compat.extend;const o=flarum.core.compat["common/extend"],i=flarum.core.compat["forum/components/SettingsPage"];var a=e.n(i);const n=flarum.core.compat["common/components/Switch"];var s=e.n(n);const l=flarum.core.compat["forum/components/UserPage"];var u=e.n(l);t().initializers.add("private-profile",(function(){(0,o.extend)(a().prototype,"settingsItems",(function(e){var r=this;e.add("PrivateProfile",m(".Form-group",[m("label.SettingsPage-PrivateProfile-label",t().translator.trans("huseyinfiliz-private-profile.forum.user.settings.private_profile_heading")),m(".PrivateProfile-setting",[m(s(),{state:this.user.preferences().PrivateProfile,onchange:function(e){r.PrivateProfileLoading=!0,r.user.savePreferences({PrivateProfile:e}).then((function(){r.PrivateProfileLoading=!1,m.redraw()}))},loading:this.PrivateProfileLoading},t().translator.trans("huseyinfiliz-private-profile.forum.user.settings.private_profile_description"))]),m(".helpText",t().translator.trans("huseyinfiliz-private-profile.forum.user.settings.private_profile_help"))]))})),(0,o.extend)(u().prototype,"onupdate",(function(){var e,r;if(this.user&&!0===this.user.attribute("privateProfile")){var o=(null==(e=t().session.user)?void 0:e.id())===this.user.id(),i=null==(r=t().session.user)?void 0:r.isAdmin();if(!o&&!i){var a=this.element.querySelector(".PostsUserPage .Placeholder")||this.element.querySelector(".DiscussionsUserPage .Placeholder");if(a){var n=a.querySelector("p");n&&(n.textContent=t().translator.trans("huseyinfiliz-private-profile.forum.profile_is_private"),n.classList.add("private-profile-message"))}var s=this.element.querySelector(".Dropdown-menu.dropdown-menu");s&&s.querySelectorAll(".Button-badge").forEach((function(e){e.textContent=""}))}}}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map
